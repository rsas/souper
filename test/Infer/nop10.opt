; REQUIRES: solver
; RUN: %souper-check -infer-rhs -souper-infer-nop %solver %s | %FileCheck %s
; CHECK: Failed to infer RHS

%0 = block 2
%1:i32 = var
%2:i32 = var
%3:i32 = srem %1, %2
%4:i32 = phi %0, %3, 1:i32
%5:i1 = ne 0:i32, %4
%6:i32 = zext %5
%7:i32 = xor 4294967295:i32, %6
%8:i8 = var
%9:i8 = and 1:i8, %8
%10:i32 = zext %9
%11:i32 = addnsw %7, %10
%12:i1 = slt 1:i32, %11
%13:i32 = lshr 7:i32, %11
%14:i1 = slt %13, 6:i32
%15:i1 = or %12, %14
%16:i32 = select %15, 6:i32, 0:i32
infer %16
